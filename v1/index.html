<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äººæè‚²æˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ v1</title>
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Recharts for React charts -->
    <script src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;
        const { 
            RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar, Legend, 
            ResponsiveContainer, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip 
        } = window.Recharts || {};

        // èƒ½åŠ›è»¸ã®å®šç¾©ï¼ˆ12è»¸ï¼‰
        const CAPABILITY_AXES = [
            { key: 'basicScience', name: 'åŸºç¤ç§‘å­¦', color: '#8884d8' },
            { key: 'appliedTech', name: 'å¿œç”¨æŠ€è¡“', color: '#82ca9d' },
            { key: 'digitalAI', name: 'ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ»AI', color: '#ffc658' },
            { key: 'manufacturing', name: 'è£½é€ ãƒ»ã‚‚ã®ã¥ãã‚Š', color: '#ff7300' },
            { key: 'finance', name: 'é‡‘èãƒ»çµŒæ¸ˆ', color: '#00C49F' },
            { key: 'healthcare', name: 'åŒ»ç™‚ãƒ»ãƒ˜ãƒ«ã‚¹ã‚±ã‚¢', color: '#FFBB28' },
            { key: 'energy', name: 'ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒ»ç’°å¢ƒ', color: '#FF8042' },
            { key: 'globalCompete', name: 'å›½éš›ç«¶äº‰åŠ›', color: '#0088FE' },
            { key: 'innovation', name: 'ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³', color: '#00C49F' },
            { key: 'education', name: 'æ•™è‚²åŸºç›¤', color: '#FFBB28' },
            { key: 'policyMaking', name: 'æ”¿ç­–ç«‹æ¡ˆ', color: '#FF8042' },
            { key: 'implementation', name: 'ç¤¾ä¼šå®Ÿè£…åŠ›', color: '#8884d8' },
        ];

        // åˆæœŸå›½åŠ›çŠ¶æ…‹
        const initialNationalCapability = {
            basicScience: 70,
            appliedTech: 65,
            digitalAI: 55,
            manufacturing: 75,
            finance: 60,
            healthcare: 70,
            energy: 50,
            globalCompete: 45,
            innovation: 50,
            education: 65,
            policyMaking: 55,
            implementation: 60,
        };

        // ç›®æ¨™ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
        const targetCapability = {
            basicScience: 85,
            appliedTech: 85,
            digitalAI: 90,
            manufacturing: 80,
            finance: 75,
            healthcare: 85,
            energy: 80,
            globalCompete: 75,
            innovation: 85,
            education: 80,
            policyMaking: 70,
            implementation: 80,
        };

        // ã‚»ã‚¯ã‚¿ãƒ¼å®šç¾©
        const SECTORS = {
            university: {
                name: 'å¤§å­¦ãƒ»ç ”ç©¶æ©Ÿé–¢',
                icon: 'ğŸ“',
                description: 'åŸºç¤ç ”ç©¶ãƒ»äººæè‚²æˆã®åœŸå°',
                growthFactors: ['basicScience', 'education', 'innovation'],
                outputTo: ['industry', 'government', 'research'],
            },
            industry: {
                name: 'ç”£æ¥­ç•Œ',
                icon: 'ğŸ­',
                description: 'çµŒé¨“çš„æŠ€è¡“ãƒ»å®Ÿè·µçŸ¥ã®è“„ç©',
                growthFactors: ['appliedTech', 'manufacturing', 'digitalAI', 'implementation'],
                outputTo: [],
            },
            government: {
                name: 'æ”¿åºœãƒ»æ”¿ç­–',
                icon: 'ğŸ›ï¸',
                description: 'æŠ•è³‡é…åˆ†ãƒ»åˆ¶åº¦è¨­è¨ˆ',
                growthFactors: ['policyMaking', 'finance'],
                outputTo: [],
            },
            research: {
                name: 'å¤–éƒ¨ç ”ç©¶è€…',
                icon: 'ğŸ”¬',
                description: 'é«˜åº¦å°‚é–€çŸ¥è­˜ãƒ»å›½éš›é€£æº',
                growthFactors: ['globalCompete', 'healthcare', 'energy'],
                outputTo: [],
            },
        };

        function TalentDevelopmentSimulator() {
            // çŠ¶æ…‹ç®¡ç†
            const [year, setYear] = useState(0);
            const [budget, setBudget] = useState(1000);
            const [capability, setCapability] = useState({...initialNationalCapability});
            const [history, setHistory] = useState([{year: 0, ...initialNationalCapability, totalScore: calculateScore(initialNationalCapability)}]);
            const [isSimulating, setIsSimulating] = useState(false);
            
            // æŠ•è³‡é…åˆ†
            const [investments, setInvestments] = useState({
                university: 30,
                industry: 35,
                government: 15,
                research: 20,
            });
            
            // äººæé…åˆ†ï¼ˆå¤§å­¦ã‹ã‚‰ã®è¼©å‡ºå…ˆï¼‰
            const [talentAllocation, setTalentAllocation] = useState({
                toIndustry: 50,
                toGovernment: 20,
                toResearch: 30,
            });
            
            // ã‚­ãƒ¼ãƒ‘ãƒ¼ã‚½ãƒ³ä¾å­˜åº¦ï¼ˆå„è»¸ã§ã®é›†ä¸­åº¦ï¼‰
            const [keyPersonRisk, setKeyPersonRisk] = useState({});

            // ã‚¹ã‚³ã‚¢è¨ˆç®—
            function calculateScore(cap) {
                const values = Object.values(cap);
                const avg = values.reduce((a, b) => a + b, 0) / values.length;
                const min = Math.min(...values);
                // æœ€å°å€¤ãŒä½ã„ã¨ãƒšãƒŠãƒ«ãƒ†ã‚£ï¼ˆä¸€ã¤ã§ã‚‚æ¬ ã‘ã‚‹ã¨å›½åŠ›ä½ä¸‹ï¼‰
                return Math.round(avg * 0.6 + min * 0.4);
            }

            // ç›®æ¨™é”æˆåº¦è¨ˆç®—ï¼ˆã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ï¼‰
            function calculateAchievement(cap) {
                let dotProduct = 0;
                let normCap = 0;
                let normTarget = 0;
                
                CAPABILITY_AXES.forEach(axis => {
                    dotProduct += cap[axis.key] * targetCapability[axis.key];
                    normCap += cap[axis.key] ** 2;
                    normTarget += targetCapability[axis.key] ** 2;
                });
                
                return (dotProduct / (Math.sqrt(normCap) * Math.sqrt(normTarget)) * 100).toFixed(1);
            }

            // 1å¹´åˆ†ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
            const simulateYear = useCallback(() => {
                setCapability(prev => {
                    const newCap = {...prev};
                    
                    // å¤§å­¦æŠ•è³‡åŠ¹æœï¼ˆåŸºç¤èƒ½åŠ›å‘ä¸Šï¼‰
                    const uniEffect = investments.university / 100;
                    newCap.basicScience += uniEffect * 3 * (1 + talentAllocation.toResearch / 100);
                    newCap.education += uniEffect * 2;
                    newCap.innovation += uniEffect * 1.5;
                    
                    // ç”£æ¥­ç•ŒæŠ•è³‡åŠ¹æœï¼ˆå®Ÿè·µèƒ½åŠ›å‘ä¸Šï¼‰
                    const indEffect = investments.industry / 100;
                    newCap.appliedTech += indEffect * 3;
                    newCap.manufacturing += indEffect * 2.5;
                    newCap.digitalAI += indEffect * 2;
                    newCap.implementation += indEffect * 2;
                    
                    // æ”¿åºœæŠ•è³‡åŠ¹æœï¼ˆæ”¿ç­–ãƒ»èª¿æ•´èƒ½åŠ›ï¼‰
                    const govEffect = investments.government / 100;
                    newCap.policyMaking += govEffect * 2;
                    newCap.finance += govEffect * 1.5;
                    
                    // ç ”ç©¶æŠ•è³‡åŠ¹æœï¼ˆå…ˆç«¯ãƒ»å›½éš›èƒ½åŠ›ï¼‰
                    const resEffect = investments.research / 100;
                    newCap.globalCompete += resEffect * 3;
                    newCap.healthcare += resEffect * 2;
                    newCap.energy += resEffect * 2;
                    
                    // äººæé…åˆ†ã®ç›¸äº’ä½œç”¨åŠ¹æœ
                    const talentSynergy = (talentAllocation.toIndustry * talentAllocation.toResearch) / 10000;
                    newCap.innovation += talentSynergy * 1.5;
                    newCap.implementation += talentSynergy * 1;
                    
                    // é™³è…åŒ–ï¼ˆæ¯å¹´å°‘ã—ãšã¤æ¸›å°‘ï¼‰
                    Object.keys(newCap).forEach(key => {
                        newCap[key] = Math.max(0, Math.min(100, newCap[key] - 1 + Math.random() * 0.5));
                    });
                    
                    // ã‚­ãƒ¼ãƒ‘ãƒ¼ã‚½ãƒ³ãƒªã‚¹ã‚¯è¨ˆç®—
                    const newRisk = {};
                    Object.keys(newCap).forEach(key => {
                        // é«˜ã„å€¤ã»ã©ã‚­ãƒ¼ãƒ‘ãƒ¼ã‚½ãƒ³ä¾å­˜ã®ãƒªã‚¹ã‚¯
                        newRisk[key] = newCap[key] > 80 ? 'high' : newCap[key] > 60 ? 'medium' : 'low';
                    });
                    setKeyPersonRisk(newRisk);
                    
                    return newCap;
                });
                
                setBudget(prev => {
                    // å›½åŠ›ã«å¿œã˜ãŸåå…¥
                    const income = calculateScore(capability) * 2;
                    const totalInvestment = Object.values(investments).reduce((a, b) => a + b, 0);
                    return Math.max(0, prev + income - totalInvestment * 3);
                });
                
                setYear(prev => prev + 1);
            }, [investments, talentAllocation, capability]);

            // å±¥æ­´æ›´æ–°
            useEffect(() => {
                if (year > 0) {
                    setHistory(prev => [...prev, {
                        year,
                        ...capability,
                        totalScore: calculateScore(capability)
                    }]);
                }
            }, [year, capability]);

            // è‡ªå‹•ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
            useEffect(() => {
                if (isSimulating && year < 20) {
                    const timer = setTimeout(simulateYear, 500);
                    return () => clearTimeout(timer);
                } else if (year >= 20) {
                    setIsSimulating(false);
                }
            }, [isSimulating, year, simulateYear]);

            // ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿å¤‰æ›
            const radarData = CAPABILITY_AXES.map(axis => ({
                axis: axis.name,
                current: capability[axis.key],
                target: targetCapability[axis.key],
                initial: initialNationalCapability[axis.key],
            }));

            // 5å¹´å¾Œãƒ»10å¹´å¾Œäºˆæ¸¬
            const predictFuture = (years) => {
                let futureData = history.find(h => h.year === year + years);
                if (!futureData && history.length > 0) {
                    // ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‹ã‚‰äºˆæ¸¬
                    const trend = {};
                    if (history.length >= 2) {
                        const recent = history[history.length - 1];
                        const prev = history[Math.max(0, history.length - 3)];
                        const yearDiff = recent.year - prev.year || 1;
                        
                        CAPABILITY_AXES.forEach(axis => {
                            const change = (recent[axis.key] - prev[axis.key]) / yearDiff;
                            trend[axis.key] = Math.max(0, Math.min(100, capability[axis.key] + change * years));
                        });
                    } else {
                        CAPABILITY_AXES.forEach(axis => {
                            trend[axis.key] = capability[axis.key];
                        });
                    }
                    return trend;
                }
                return futureData || capability;
            };

            const future5 = predictFuture(5);
            const future10 = predictFuture(10);

            const futureRadarData = CAPABILITY_AXES.map(axis => ({
                axis: axis.name,
                current: capability[axis.key],
                year5: future5[axis.key] || capability[axis.key],
                year10: future10[axis.key] || capability[axis.key],
                target: targetCapability[axis.key],
            }));

            // ãƒªã‚»ãƒƒãƒˆ
            const resetSimulation = () => {
                setYear(0);
                setBudget(1000);
                setCapability({...initialNationalCapability});
                setHistory([{year: 0, ...initialNationalCapability, totalScore: calculateScore(initialNationalCapability)}]);
                setIsSimulating(false);
            };

            return (
                <div className="min-h-screen bg-gray-900 text-white p-4">
                    <h1 className="text-3xl font-bold text-center mb-2 text-cyan-400">
                        ğŸŒ å›½å®¶äººæè‚²æˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼
                    </h1>
                    <p className="text-center text-gray-400 mb-4">
                        Human Capital Development Optimization Game
                    </p>
                    
                    {/* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ */}
                    <div className="grid grid-cols-4 gap-4 mb-6">
                        <div className="bg-gray-800 rounded-lg p-4 text-center">
                            <div className="text-2xl font-bold text-yellow-400">{year}å¹´ç›®</div>
                            <div className="text-gray-400 text-sm">çµŒéå¹´æ•°</div>
                        </div>
                        <div className="bg-gray-800 rounded-lg p-4 text-center">
                            <div className="text-2xl font-bold text-green-400">{budget.toFixed(0)}</div>
                            <div className="text-gray-400 text-sm">äºˆç®—æ®‹é«˜</div>
                        </div>
                        <div className="bg-gray-800 rounded-lg p-4 text-center">
                            <div className="text-2xl font-bold text-blue-400">{calculateScore(capability)}</div>
                            <div className="text-gray-400 text-sm">ç·åˆå›½åŠ›ã‚¹ã‚³ã‚¢</div>
                        </div>
                        <div className="bg-gray-800 rounded-lg p-4 text-center">
                            <div className="text-2xl font-bold text-purple-400">{calculateAchievement(capability)}%</div>
                            <div className="text-gray-400 text-sm">ç›®æ¨™é”æˆåº¦</div>
                        </div>
                    </div>

                    {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        
                        {/* å·¦å´ï¼šç¾åœ¨ã®å›½åŠ›ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ */}
                        <div className="bg-gray-800 rounded-lg p-4">
                            <h2 className="text-xl font-bold mb-4 text-cyan-300">ğŸ“Š ç¾åœ¨ã®å›½åŠ›ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«</h2>
                            <ResponsiveContainer width="100%" height={400}>
                                <RadarChart data={radarData}>
                                    <PolarGrid stroke="#444" />
                                    <PolarAngleAxis dataKey="axis" tick={{ fill: '#aaa', fontSize: 11 }} />
                                    <PolarRadiusAxis angle={30} domain={[0, 100]} tick={{ fill: '#666' }} />
                                    <Radar
                                        name="ç¾åœ¨"
                                        dataKey="current"
                                        stroke="#00ffff"
                                        fill="#00ffff"
                                        fillOpacity={0.3}
                                        strokeWidth={2}
                                    />
                                    <Radar
                                        name="ç›®æ¨™"
                                        dataKey="target"
                                        stroke="#ff6b6b"
                                        fill="#ff6b6b"
                                        fillOpacity={0.1}
                                        strokeDasharray="5 5"
                                    />
                                    <Radar
                                        name="åˆæœŸ"
                                        dataKey="initial"
                                        stroke="#888"
                                        fill="transparent"
                                        strokeDasharray="3 3"
                                    />
                                    <Legend />
                                </RadarChart>
                            </ResponsiveContainer>
                        </div>

                        {/* å³å´ï¼š5å¹´å¾Œãƒ»10å¹´å¾Œäºˆæ¸¬ */}
                        <div className="bg-gray-800 rounded-lg p-4">
                            <h2 className="text-xl font-bold mb-4 text-orange-300">ğŸ”® å°†æ¥äºˆæ¸¬ï¼ˆ5å¹´å¾Œãƒ»10å¹´å¾Œï¼‰</h2>
                            <ResponsiveContainer width="100%" height={400}>
                                <RadarChart data={futureRadarData}>
                                    <PolarGrid stroke="#444" />
                                    <PolarAngleAxis dataKey="axis" tick={{ fill: '#aaa', fontSize: 11 }} />
                                    <PolarRadiusAxis angle={30} domain={[0, 100]} tick={{ fill: '#666' }} />
                                    <Radar
                                        name="ç¾åœ¨"
                                        dataKey="current"
                                        stroke="#00ffff"
                                        fill="#00ffff"
                                        fillOpacity={0.2}
                                    />
                                    <Radar
                                        name="5å¹´å¾Œäºˆæ¸¬"
                                        dataKey="year5"
                                        stroke="#ffd700"
                                        fill="#ffd700"
                                        fillOpacity={0.2}
                                    />
                                    <Radar
                                        name="10å¹´å¾Œäºˆæ¸¬"
                                        dataKey="year10"
                                        stroke="#ff4500"
                                        fill="#ff4500"
                                        fillOpacity={0.2}
                                    />
                                    <Radar
                                        name="ç›®æ¨™"
                                        dataKey="target"
                                        stroke="#888"
                                        fill="transparent"
                                        strokeDasharray="5 5"
                                    />
                                    <Legend />
                                </RadarChart>
                            </ResponsiveContainer>
                        </div>
                    </div>

                    {/* æŠ•è³‡é…åˆ†ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« */}
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
                        
                        {/* æŠ•è³‡é…åˆ† */}
                        <div className="bg-gray-800 rounded-lg p-4">
                            <h2 className="text-xl font-bold mb-4 text-green-300">ğŸ’° æŠ•è³‡é…åˆ† (ã‚»ã‚¯ã‚¿ãƒ¼åˆ¥)</h2>
                            {Object.entries(SECTORS).map(([key, sector]) => (
                                <div key={key} className="mb-4">
                                    <div className="flex justify-between items-center mb-1">
                                        <span>{sector.icon} {sector.name}</span>
                                        <span className="text-yellow-400 font-bold">{investments[key]}%</span>
                                    </div>
                                    <input
                                        type="range"
                                        min="0"
                                        max="100"
                                        value={investments[key]}
                                        onChange={(e) => setInvestments(prev => ({...prev, [key]: parseInt(e.target.value)}))}
                                        className="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"
                                    />
                                    <p className="text-gray-500 text-xs mt-1">{sector.description}</p>
                                </div>
                            ))}
                            <div className="text-right mt-4">
                                <span className={`font-bold ${Object.values(investments).reduce((a,b) => a+b, 0) === 100 ? 'text-green-400' : 'text-red-400'}`}>
                                    åˆè¨ˆ: {Object.values(investments).reduce((a,b) => a+b, 0)}%
                                </span>
                            </div>
                        </div>

                        {/* äººæé…åˆ†ï¼ˆå¤§å­¦ã‹ã‚‰å„ã‚»ã‚¯ã‚¿ãƒ¼ã¸ï¼‰ */}
                        <div className="bg-gray-800 rounded-lg p-4">
                            <h2 className="text-xl font-bold mb-4 text-purple-300">ğŸ‘¥ äººæé…åˆ† (å¤§å­¦â†’å„ã‚»ã‚¯ã‚¿ãƒ¼)</h2>
                            <div className="mb-4">
                                <div className="flex justify-between items-center mb-1">
                                    <span>ğŸ­ â†’ ç”£æ¥­ç•Œ</span>
                                    <span className="text-blue-400 font-bold">{talentAllocation.toIndustry}%</span>
                                </div>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value={talentAllocation.toIndustry}
                                    onChange={(e) => setTalentAllocation(prev => ({...prev, toIndustry: parseInt(e.target.value)}))}
                                    className="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"
                                />
                            </div>
                            <div className="mb-4">
                                <div className="flex justify-between items-center mb-1">
                                    <span>ğŸ›ï¸ â†’ æ”¿åºœãƒ»å®˜åƒš</span>
                                    <span className="text-green-400 font-bold">{talentAllocation.toGovernment}%</span>
                                </div>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value={talentAllocation.toGovernment}
                                    onChange={(e) => setTalentAllocation(prev => ({...prev, toGovernment: parseInt(e.target.value)}))}
                                    className="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"
                                />
                            </div>
                            <div className="mb-4">
                                <div className="flex justify-between items-center mb-1">
                                    <span>ğŸ”¬ â†’ ç ”ç©¶æ©Ÿé–¢</span>
                                    <span className="text-purple-400 font-bold">{talentAllocation.toResearch}%</span>
                                </div>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value={talentAllocation.toResearch}
                                    onChange={(e) => setTalentAllocation(prev => ({...prev, toResearch: parseInt(e.target.value)}))}
                                    className="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"
                                />
                            </div>
                            <div className="text-right mt-4">
                                <span className={`font-bold ${Object.values(talentAllocation).reduce((a,b) => a+b, 0) === 100 ? 'text-green-400' : 'text-red-400'}`}>
                                    åˆè¨ˆ: {Object.values(talentAllocation).reduce((a,b) => a+b, 0)}%
                                </span>
                            </div>
                        </div>
                    </div>

                    {/* æ™‚ç³»åˆ—ã‚°ãƒ©ãƒ• */}
                    <div className="bg-gray-800 rounded-lg p-4 mt-6">
                        <h2 className="text-xl font-bold mb-4 text-yellow-300">ğŸ“ˆ å›½åŠ›æ¨ç§»ï¼ˆæ™‚ç³»åˆ—ï¼‰</h2>
                        <ResponsiveContainer width="100%" height={300}>
                            <LineChart data={history}>
                                <CartesianGrid strokeDasharray="3 3" stroke="#444" />
                                <XAxis dataKey="year" stroke="#888" label={{ value: 'å¹´', position: 'insideBottomRight', offset: -5 }} />
                                <YAxis domain={[0, 100]} stroke="#888" />
                                <Tooltip 
                                    contentStyle={{ backgroundColor: '#333', border: 'none' }}
                                    labelStyle={{ color: '#fff' }}
                                />
                                <Legend />
                                <Line type="monotone" dataKey="totalScore" stroke="#00ffff" strokeWidth={3} name="ç·åˆã‚¹ã‚³ã‚¢" dot={false} />
                                <Line type="monotone" dataKey="basicScience" stroke="#8884d8" strokeWidth={1} name="åŸºç¤ç§‘å­¦" dot={false} />
                                <Line type="monotone" dataKey="digitalAI" stroke="#ffc658" strokeWidth={1} name="ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ»AI" dot={false} />
                                <Line type="monotone" dataKey="innovation" stroke="#82ca9d" strokeWidth={1} name="ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³" dot={false} />
                            </LineChart>
                        </ResponsiveContainer>
                    </div>

                    {/* èƒ½åŠ›å€¤è©³ç´°ãƒ†ãƒ¼ãƒ–ãƒ« */}
                    <div className="bg-gray-800 rounded-lg p-4 mt-6">
                        <h2 className="text-xl font-bold mb-4 text-pink-300">ğŸ“‹ èƒ½åŠ›å€¤è©³ç´°</h2>
                        <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            {CAPABILITY_AXES.map(axis => {
                                const current = capability[axis.key];
                                const target = targetCapability[axis.key];
                                const gap = target - current;
                                const risk = keyPersonRisk[axis.key];
                                
                                return (
                                    <div key={axis.key} className="bg-gray-700 rounded p-3">
                                        <div className="flex justify-between items-center mb-2">
                                            <span className="text-sm font-medium">{axis.name}</span>
                                            {risk === 'high' && <span className="text-red-400 text-xs">âš ï¸ é«˜ä¾å­˜</span>}
                                        </div>
                                        <div className="text-2xl font-bold" style={{ color: current >= target ? '#4ade80' : current >= target * 0.8 ? '#fbbf24' : '#f87171' }}>
                                            {current.toFixed(1)}
                                        </div>
                                        <div className="text-xs text-gray-400">
                                            ç›®æ¨™: {target} ({gap > 0 ? `-${gap.toFixed(1)}` : `+${Math.abs(gap).toFixed(1)}`})
                                        </div>
                                        <div className="w-full bg-gray-600 rounded-full h-2 mt-2">
                                            <div 
                                                className="h-2 rounded-full transition-all duration-500"
                                                style={{ 
                                                    width: `${Math.min(100, (current / target) * 100)}%`,
                                                    backgroundColor: current >= target ? '#4ade80' : current >= target * 0.8 ? '#fbbf24' : '#f87171'
                                                }}
                                            />
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>

                    {/* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ */}
                    <div className="flex justify-center gap-4 mt-6 mb-8">
                        <button
                            onClick={simulateYear}
                            disabled={isSimulating}
                            className="px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-bold transition disabled:opacity-50"
                        >
                            â–¶ï¸ 1å¹´é€²ã‚ã‚‹
                        </button>
                        <button
                            onClick={() => setIsSimulating(!isSimulating)}
                            className={`px-6 py-3 rounded-lg font-bold transition ${isSimulating ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'}`}
                        >
                            {isSimulating ? 'â¸ï¸ åœæ­¢' : 'â© è‡ªå‹•ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³'}
                        </button>
                        <button
                            onClick={resetSimulation}
                            className="px-6 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg font-bold transition"
                        >
                            ğŸ”„ ãƒªã‚»ãƒƒãƒˆ
                        </button>
                    </div>

                    {/* æ•°ç†ãƒ¢ãƒ‡ãƒ«èª¬æ˜ */}
                    <div className="bg-gray-800 rounded-lg p-4 mt-6">
                        <h2 className="text-xl font-bold mb-4 text-cyan-300">ğŸ“ æ•°ç†ãƒ¢ãƒ‡ãƒ«æ¦‚è¦</h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300">
                            <div>
                                <h3 className="font-bold text-white mb-2">å›½åŠ›é›†ç´„é–¢æ•°</h3>
                                <p className="font-mono bg-gray-900 p-2 rounded text-xs">
                                    S_j(t) = (Î£ s_i,j^Î±)^(1/Î±) Ã— Î (1 - e^(-Î²s_k,j))
                                </p>
                                <p className="mt-2">Î± &lt; 1 ã§è£œå®Œæ€§ã€ã‚­ãƒ¼ãƒ‘ãƒ¼ã‚½ãƒ³æ¬ æã§æ€¥æ¿€ãªä½ä¸‹</p>
                            </div>
                            <div>
                                <h3 className="font-bold text-white mb-2">ç›®æ¨™é”æˆåº¦ï¼ˆã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ï¼‰</h3>
                                <p className="font-mono bg-gray-900 p-2 rounded text-xs">
                                    Achievement = (SÂ·S_target) / (|S||S_target|) Ã— 100%
                                </p>
                                <p className="mt-2">ãƒ™ã‚¯ãƒˆãƒ«æ–¹å‘ã®ä¸€è‡´åº¦ã§è©•ä¾¡</p>
                            </div>
                            <div>
                                <h3 className="font-bold text-white mb-2">æˆé•·ãƒ¢ãƒ‡ãƒ«</h3>
                                <p className="font-mono bg-gray-900 p-2 rounded text-xs">
                                    ds/dt = Î·Ã—T + Î³Ã—W + Î£(MÃ—Î´Ã—s) - Î¼Ã—s
                                </p>
                                <p className="mt-2">è‚²æˆ + OJT + ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚° - é™³è…åŒ–</p>
                            </div>
                            <div>
                                <h3 className="font-bold text-white mb-2">æœ€é©åŒ–ç›®çš„é–¢æ•°</h3>
                                <p className="font-mono bg-gray-900 p-2 rounded text-xs">
                                    min J = âˆ«[wâ‚â€–S-S_targetâ€–Â² + wâ‚‚Î£I + wâ‚ƒVar + wâ‚„Risk]dt
                                </p>
                                <p className="mt-2">ç›®æ¨™ä¹–é›¢ + ã‚³ã‚¹ãƒˆ + ãƒãƒ©ãƒ³ã‚¹ + ãƒªã‚¹ã‚¯</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<TalentDevelopmentSimulator />, document.getElementById('root'));
    </script>
</body>
</html>